"use strict";angular.module("app.action.controllers",[]).controller("AgreeOnDateCtrl",["$scope",function(){return console.log("Agree On Date")}]).controller("CreateAgendaCtrl",["$scope",function(){return console.log("Create Agenda")}]).controller("ViewMeetingCtrl",["$scope",function(){return console.log("View Meeting")}]).controller("ListAllMeetingCtrl",["$scope",function(){return console.log("List All Meeting")}]).controller("CreateEMeetingCtrl",["$scope",function(){return console.log("Create E-Meeting")}]).controller("ViewEMeetingCtrl",["$scope",function(){return console.log("View E-Meeting")}]),angular.module("app",["ngRoute","ngAnimate","ngCookies","ui.bootstrap","app.controllers","app.services","app.auth.controllers","app.user.controllers","app.action.controllers","app.directives","app.localization","pascalprecht.translate","ui.router","facebook","wakanda"]).run(["$rootScope","$state","$stateParams","$wakanda",function($rootScope,$state,$stateParams,$wakanda){var oninit;$rootScope.wakandaInit=!1,$rootScope.$stateHistory=[],$rootScope.$state=$state,$rootScope.$stateParams=$stateParams,$rootScope.onBack=!1,$rootScope.back=function(){$rootScope.onBack=!0,$rootScope.$stateHistory.length>1&&($state.go($rootScope.$stateHistory[$rootScope.$stateHistory.length-2]),$rootScope.$stateHistory.pop())},$wakanda.init().then(oninit=function(ds){$rootScope.initialized="initialized",$rootScope.dataClasses=Object.keys(ds.getDataClasses()),$rootScope.wakandaInit=!0})}]).config(function(FacebookProvider){return FacebookProvider.init("1655840277976205")}).config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){return $urlRouterProvider.otherwise("/main"),$stateProvider.state("main",{url:"/main",templateUrl:"views/main.html"}).state("auth",{url:"/auth",templateUrl:"views/auth.html"}).state("auth.SignUp",{url:"/sign_up",templateUrl:"views/auth/sign_up.html"}).state("auth.SignIn",{url:"/sign_in",templateUrl:"views/auth/sign_in.html"}).state("auth.ChangePassword",{url:"/change_password",templateUrl:"views/auth/change_password.html"}).state("auth.SignOut",{url:"/sign_out",controller:function($state){return localStorage.removeItem("user_id"),localStorage.removeItem("user_first_name"),localStorage.removeItem("user_last_name"),localStorage.removeItem("user_link"),localStorage.removeItem("user_locale"),localStorage.removeItem("user_name"),localStorage.removeItem("user_timezone"),localStorage.removeItem("user_updated_time"),localStorage.removeItem("user_verified"),localStorage.removeItem("user_avatar"),localStorage.removeItem("user_country"),$state.go("auth.SignIn")}}).state("createMeetingNote",{url:"/create_meeting_note",templateUrl:"views/create_meeting_note.html"}).state("action",{url:"/action",templateUrl:"views/action.html"}).state("action.AgreeOnDate",{url:"/agree_on_date",templateUrl:"views/action/agree_on_date.html"}).state("action.CreateAgenda",{url:"/create_agenda",templateUrl:"views/action/create_agenda.html"}).state("action.ViewMeeting",{url:"/view_meeting/:meetingId",templateUrl:"views/action/view_meeting.html"}).state("action.ListAllMeeting",{url:"/list_all_meeting",templateUrl:"views/action/list_all_meeting.html"}).state("action.CreateEMeeting",{url:"/create_e_meeting",templateUrl:"views/action/create_e_meeting.html"}).state("action.ViewEMeeting",{url:"/view_e_meeting/:eMeetingId",templateUrl:"views/action/view_e_meeting.html"}).state("user",{url:"/user",templateUrl:"views/user.html"}).state("user.Profile",{url:"/profile",templateUrl:"views/user/profile.html"}).state("user.ProfileUpdate",{url:"/profile_update",templateUrl:"views/user/profile_update.html"}).state("user.SendFeedback",{url:"/send_feedback",templateUrl:"views/user/send_feedback.html"}).state("user.Groups",{url:"/groups",templateUrl:"views/user/groups.html"}).state("user.MyTask",{url:"/my_task",templateUrl:"views/user/my_task.html"}).state("user.UpcommingMeeting",{url:"/upcomming_meeting",templateUrl:"views/user/upcomming_meeting.html"})}]).config(["$translateProvider",function($translateProvider){$translateProvider.useStaticFilesLoader({prefix:"/l10n/",suffix:".json"}),null===localStorage.getItem("lang")&&localStorage.setItem("lang","English"),$translateProvider.preferredLanguage(localStorage.getItem("lang"))}]),angular.module("app.auth.controllers",[]).controller("SignUpCtrl",["$rootScope","$scope","$state","$wakanda","Assist","Auth",function($scope,$rootScope,$state,$wakanda,Assist,Auth){$scope.facebookRegister=function(){Auth.facebookLogin()},$scope.unmatchedPassword=function(){return signupForm.password.value!=signupForm.retypePassword.value?!0:!1},$scope.emailRegister=function(){var newUser=$wakanda.$ds.User.signUpNewUser(signupForm.email.value,signupForm.password.value);return $rootScope.user=newUser,$wakanda.$login(signupForm.email.value,signupForm.password.value).then(function(data){data.result?$wakanda.$currentUser().then(function(user){localStorage.setItem("user_id",user.result.ID),localStorage.setItem("user_email",user.result.userName),$state.go("user.ProfileUpdate")}):console.log(data)}),$state.go("user.ProfileUpdate")}}]).controller("SignInCtrl",["$q","$rootScope","$scope","$state","$wakanda","Assist","Auth","Facebook",function($q,$rootScope,$scope,$state,$wakanda,Assist,Auth){$q.defer();$scope.facebookLogin=function(){return Auth.facebookLogin()},$scope.linkedinLogin=function(){return window.location.href="https://www.linkedin.com/uas/oauth2/authorization?response_type=code&client_id=7581d2bszc4sid&scope=r_emailaddress%20r_fullprofile%20r_basicprofile&state=KbyUmhTLMpYj7CD2di7JKP1PcqmLlkPt&redirect_uri=http://localhost:9000"},$scope.emailLogin=function(){$wakanda.$login(signinForm.email.value,signinForm.password.value).then(function(data){data.result?($scope.error=!1,$wakanda.$currentUser().then(function(user){localStorage.setItem("user_id",user.result.ID),localStorage.setItem("user_email",user.result.userName),$state.go("user.Profile")})):$scope.error=!0})}}]).controller("ChangePasswordCtrl",["$q","$rootScope","$scope","Auth",function($q,$rootScope,$scope,Auth){$scope.success=!1,$scope.error=!1,$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("auth.ChangePassword"),$scope.unmatchedPassword=function(){return changePasswordForm.newPassword.value!=changePasswordForm.retypeNewPassword.value?!0:!1},$scope.changePassword=function(){Auth.checkPassword(changePasswordForm.currentPassword.value).then(function(data){data?Auth.changePassword(changePasswordForm.newPassword.value).then(function(){$scope.success=!0}):$scope.error=!0})}}]),angular.module("app.directives",[]).directive("imgHolder",[function(){return{restrict:"A",link:function(scope,ele){return Holder.run({images:ele[0]})}}}]).directive("customBackground",function(){return{restrict:"A",controller:["$scope","$element","$location",function($scope,$element,$location){var addBg,path;return path=function(){return $location.path()},addBg=function(path){switch($element.removeClass("body-home body-special body-tasks body-lock"),path){case"/":return $element.addClass("body-home");case"/auth/sign_in":case"/auth/sign_up":return $element.addClass("body-special");case"/pages/lock-screen":return $element.addClass("body-special body-lock");case"/tasks":return $element.addClass("body-tasks")}},addBg($location.path()),$scope.$watch(path,function(newVal,oldVal){return newVal!==oldVal?addBg($location.path()):void 0})}]}}).directive("uiColorSwitch",[function(){return{restrict:"A",link:function(scope,ele){return ele.find(".color-option").on("click",function(event){var $this,hrefUrl,style;if($this=$(this),hrefUrl=void 0,style=$this.data("style"),"loulou"===style)hrefUrl="styles/main.css",$('link[href^="styles/main"]').attr("href",hrefUrl);else{if(!style)return!1;style="-"+style,hrefUrl="styles/main"+style+".css",$('link[href^="styles/main"]').attr("href",hrefUrl)}return event.preventDefault()})}}}]).directive("toggleMinNav",["$rootScope",function($rootScope){return{restrict:"A",link:function(scope,ele){var $window,Timer,app,updateClass;return app=$("#app"),$window=$(window),ele.on("click",function(e){return app.hasClass("nav-min")?app.removeClass("nav-min"):(app.addClass("nav-min"),$rootScope.$broadcast("minNav:enabled")),e.preventDefault()}),Timer=void 0,updateClass=function(){var width;return width=$window.width(),768>width?app.removeClass("nav-min"):void 0},$window.resize(function(){var t;return clearTimeout(t),t=setTimeout(updateClass,300)})}}}]).directive("collapseNav",[function(){return{restrict:"A",link:function(scope,ele){var $a,$aRest,$lists,$listsRest,app;return $lists=ele.find("ul").parent("li"),$lists.append('<i class="fa fa-caret-right icon-has-ul"></i>'),$a=$lists.children("a"),$listsRest=ele.children("li").not($lists),$aRest=$listsRest.children("a"),app=$("#app"),$a.on("click",function(event){var $parent,$this;return app.hasClass("nav-min")?!1:($this=$(this),$parent=$this.parent("li"),$lists.not($parent).removeClass("open").find("ul").slideUp(),$parent.toggleClass("open").find("ul").slideToggle(),event.preventDefault())}),$aRest.on("click",function(){return $lists.removeClass("open").find("ul").slideUp()}),scope.$on("minNav:enabled",function(){return $lists.removeClass("open").find("ul").slideUp()})}}}]).directive("highlightActive",[function(){return{restrict:"A",controller:["$scope","$element","$attrs","$location",function($scope,$element,$attrs,$location){var highlightActive,links,path;return links=$element.find("a"),path=function(){return $location.path()},highlightActive=function(links,path){return path="#"+path,angular.forEach(links,function(link){var $li,$link,href;return $link=angular.element(link),$li=$link.parent("li"),href=$link.attr("href"),$li.hasClass("active")&&$li.removeClass("active"),0===path.indexOf(href)?$li.addClass("active"):void 0})},highlightActive(links,$location.path()),$scope.$watch(path,function(newVal,oldVal){return newVal!==oldVal?highlightActive(links,$location.path()):void 0})}]}}]).directive("toggleOffCanvas",[function(){return{restrict:"A",link:function(scope,ele){return ele.on("click",function(){return $("#app").toggleClass("on-canvas")})}}}]).directive("slimScroll",[function(){return{restrict:"A",link:function(scope,ele){return ele.slimScroll({height:"100%"})}}}]).directive("goBack",[function(){return{restrict:"A",controller:["$scope","$element","$window",function($scope,$element,$window){return $element.on("click",function(){return $window.history.back()})}]}}]),angular.module("app.localization",[]).controller("LangCtrl",["$scope","$translate",function($scope,$translate){$scope.lang=localStorage.getItem("lang"),$scope.changeLang=function(key){$scope.lang=key,localStorage.setItem("lang",key),$translate.use(key).then(function(){},function(){})}}]),angular.module("app.controllers",[]).controller("AppCtrl",["$rootScope","$scope","$location",function($rootScope,$scope,$location){return $scope.isSpecificPage=function(){var path;return path=$location.path(),_.contains(["/auth/sign_up","/auth/sign_in","/user/profile_update"],path)},$rootScope.user=localStorage.getItem("user_id")?{id:localStorage.getItem("user_id"),first_name:localStorage.getItem("user_first_name"),last_name:localStorage.getItem("user_last_name"),link:localStorage.getItem("user_link"),locale:localStorage.getItem("user_locale"),name:localStorage.getItem("user_name"),timezone:localStorage.getItem("user_timezone"),updated_time:localStorage.getItem("user_updated_time"),verified:localStorage.getItem("user_verified"),avatar:localStorage.getItem("user_avatar"),country:localStorage.getItem("user_country")}:{},$scope.main={brand:"Kuveno",name:$rootScope.user.name}}]).controller("NavCtrl",["$scope","taskStorage","filterFilter",function($scope,taskStorage,filterFilter){var tasks;return tasks=$scope.tasks=taskStorage.get(),$scope.taskRemainingCount=filterFilter(tasks,{completed:!1}).length,$scope.$on("taskRemaining:changed",function(event,count){return $scope.taskRemainingCount=count})}]).controller("MainCtrl",["$location","$rootScope","$scope","$state","Auth","$wakanda",function($location,$rootScope,$scope,$state,Auth){return Auth.verify().then(function(data){var linkedinCode;return data&&($rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("main"),$location.$$absUrl.split("?code=").length>1&&(linkedinCode=$location.$$absUrl.split("?code=")[1].split("#/")[0],Auth.linkedin(linkedinCode))),Auth.login("amanda.aaron@tester.com","test")})}]).controller("CreateMeetingNoteCtrl",["$scope",function(){return $rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("createMeetingNote")}]),angular.module("app.services",[]).factory("Auth",["$http","$q","$rootScope","$state","$wakanda","Assist","Facebook",function($http,$q,$rootScope,$state,$wakanda,Assist,Facebook){var defer;return defer=$q.defer(),{verify:function(){if(void 0===localStorage.user_id)defer.resolve(!1),$state.go("auth.SignIn");else var itv=setInterval(function(){$rootScope.wakandaInit&&(defer.resolve(!0),clearInterval(itv))},100);return defer.promise},linkedin:function(){return $http.post("https://www.linkedin.com/uas/oauth2/accessToken?grant_type=authorization_code&code=code&redirect_uri=https://thiepcuoiviet.net/freelance/fv0004/dist&client_id=7581d2bszc4sid&client_secret=oDYszogper1pau5d").success(function(data){return console.log(data)}).error(function(data){return $rootScope.error=data,$state.go("auth.SignIn")})},login:function(){var newUser;return newUser=$wakanda.$ds.User.signUpNewUser("my@email.com","myPassword"),defer.resolve(!0),defer.promise},facebookLogin:function(){var getFacebookInformation,storeUser;return storeUser=function(response){return $rootScope.user=response,Assist.localeToCountry(response.locale).then(function(data){return localStorage.setItem("user_id",response.id),localStorage.setItem("user_first_name",response.first_name),localStorage.setItem("user_last_name",response.last_name),localStorage.setItem("user_link",response.link),localStorage.setItem("user_locale",response.locale),localStorage.setItem("user_name",response.name),localStorage.setItem("user_timezone",response.timezone),localStorage.setItem("user_updated_time",response.updated_time),localStorage.setItem("user_verified",response.verified),localStorage.setItem("user_avatar","http://graph.facebook.com/"+response.id+"/picture"),localStorage.setItem("user_country",data),$rootScope.user.country=localStorage.getItem("user_country"),$rootScope.user.picture=localStorage.getItem("user_picture"),defer.resolve($rootScope.user)}),defer.promise},getFacebookInformation=function(){return Facebook.api("/me",function(response){var newUser;return storeUser(response),newUser=$wakanda.$ds.User.signUpNewFBUser(response.id),$state.go("user.Profile")})},Facebook.getLoginStatus(function(response){return $rootScope.loggedIn="connected"===response.status?!0:!1,$rootScope.loggedIn===!1?Facebook.login(function(response){return $rootScope.loggedIn="connected"===response.status?!0:!1,$rootScope.loggedIn?getFacebookInformation():$rootScope.facebookLoginError=!0}):getFacebookInformation()})},checkPassword:function(){return defer.resolve(!0),defer.promise},changePassword:function(){return defer.resolve("done"),defer.promise}}}]).factory("User",["$http","$q","$rootScope","$state",function($http,$q){var defer;return defer=$q.defer(),{sendFeedback:function(){return defer.resolve(!0),defer.promise}}}]).factory("Assist",["$http","$q",function($http,$q){var defer;return defer=$q.defer(),{localeToCountry:function(locale){return $http.get("scripts/vendors/FacebookLocales.json").success(function(data){var item,_i,_len,_ref,_results;for(_ref=data.locales.locale,_results=[],_i=0,_len=_ref.length;_len>_i;_i++){if(item=_ref[_i],item.codes.code.standard.representation===locale){defer.resolve(item.englishName.split("(").length>1?item.englishName.split("(")[1].split(")")[0]:item.englishName);break}_results.push(void 0)}return _results}).error(function(data){return defer.reject(data)}),defer.promise},validateEmail:function(email){var re;return re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,re.test(email)}}}]),angular.module("app.user.controllers",[]).controller("ProfileCtrl",["$rootScope","$scope","Auth",function($rootScope,$scope,Auth){return Auth.verify().then(function(data){return data?$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("user.Profile"):void 0})}]).controller("UpdateProfileCtrl",["$rootScope","$scope","$state","$wakanda","Assist","Auth",function($scope,$rootScope,$state,$wakanda,Assist,Auth){Auth.verify().then(function(data){if(data){var user=$wakanda.$ds.User.$findOne(localStorage.getItem("user_id"));user.$promise.then(function(){updateProfileForm.title.value=user.title,updateProfileForm.firstName.value=user.firstname,updateProfileForm.lastName.value=user.lastname}),$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("user.UpdateProfile"),$scope.linkedinUpdate=function(){},$scope.facebookUpdate=function(){return Auth.facebookInfo()},$scope.updateProfile=function(){user.$promise.then(function(){user.title=updateProfileForm.title.value,user.firstname=updateProfileForm.firstName.value,user.lastname=updateProfileForm.lastName.value,user.$save()}),localStorage.setItem("user_title",updateProfileForm.title.value),localStorage.setItem("user_first_name",updateProfileForm.firstName.value),localStorage.setItem("user_last_name",updateProfileForm.lastName.value),$state.go("user.Profile")}}})}]).controller("SendFeedbackCtrl",["$rootScope","$scope","Auth","User",function($rootScope,$scope,Auth,User){return Auth.verify().then(function(data){return data?$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("user.SendFeedback"):void 0}),$scope.sendFeedback=function(){User.sendFeedback($scope.title,$scope.content).then(function(data){data?$scope.success=!0:$scope.error=!0})}}]).controller("GroupsCtrl",["$scope",function(){return console.log("Groups")}]).controller("MyTaskCtrl",["$scope",function(){return console.log("My Task")}]).controller("UpCommingMeetingCtrl",["$scope",function(){return console.log("Up Comming Meeting")}]),angular.module("app.action.controllers",[]).controller("AgreeOnDateCtrl",["$scope",function(){return console.log("Agree On Date")}]).controller("CreateAgendaCtrl",["$scope",function(){return console.log("Create Agenda")}]).controller("ViewMeetingCtrl",["$scope",function(){return console.log("View Meeting")}]).controller("ListAllMeetingCtrl",["$scope",function(){return console.log("List All Meeting")}]).controller("CreateEMeetingCtrl",["$scope",function(){return console.log("Create E-Meeting")}]).controller("ViewEMeetingCtrl",["$scope",function(){return console.log("View E-Meeting")}]),angular.module("app",["ngRoute","ngAnimate","ngCookies","ui.bootstrap","app.controllers","app.services","app.auth.controllers","app.user.controllers","app.action.controllers","app.directives","app.localization","pascalprecht.translate","ui.router","facebook","wakanda"]).run(["$rootScope","$state","$stateParams","$wakanda",function($rootScope,$state,$stateParams,$wakanda){var oninit;$rootScope.wakandaInit=!1,$rootScope.$stateHistory=[],$rootScope.$state=$state,$rootScope.$stateParams=$stateParams,$rootScope.onBack=!1,$rootScope.back=function(){$rootScope.onBack=!0,$rootScope.$stateHistory.length>1&&($state.go($rootScope.$stateHistory[$rootScope.$stateHistory.length-2]),$rootScope.$stateHistory.pop())},$wakanda.init().then(oninit=function(ds){$rootScope.initialized="initialized",$rootScope.dataClasses=Object.keys(ds.getDataClasses()),$rootScope.wakandaInit=!0})}]).config(function(FacebookProvider){return FacebookProvider.init("1655840277976205")}).config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){return $urlRouterProvider.otherwise("/main"),$stateProvider.state("main",{url:"/main",templateUrl:"views/main.html"}).state("auth",{url:"/auth",templateUrl:"views/auth.html"}).state("auth.SignUp",{url:"/sign_up",templateUrl:"views/auth/sign_up.html"}).state("auth.SignIn",{url:"/sign_in",templateUrl:"views/auth/sign_in.html"}).state("auth.ChangePassword",{url:"/change_password",templateUrl:"views/auth/change_password.html"}).state("auth.SignOut",{url:"/sign_out",controller:function($state){return localStorage.removeItem("user_id"),localStorage.removeItem("user_first_name"),localStorage.removeItem("user_last_name"),localStorage.removeItem("user_link"),localStorage.removeItem("user_locale"),localStorage.removeItem("user_name"),localStorage.removeItem("user_timezone"),localStorage.removeItem("user_updated_time"),localStorage.removeItem("user_verified"),localStorage.removeItem("user_avatar"),localStorage.removeItem("user_country"),$state.go("auth.SignIn")}}).state("createMeetingNote",{url:"/create_meeting_note",templateUrl:"views/create_meeting_note.html"}).state("action",{url:"/action",templateUrl:"views/action.html"}).state("action.AgreeOnDate",{url:"/agree_on_date",templateUrl:"views/action/agree_on_date.html"}).state("action.CreateAgenda",{url:"/create_agenda",templateUrl:"views/action/create_agenda.html"}).state("action.ViewMeeting",{url:"/view_meeting/:meetingId",templateUrl:"views/action/view_meeting.html"}).state("action.ListAllMeeting",{url:"/list_all_meeting",templateUrl:"views/action/list_all_meeting.html"}).state("action.CreateEMeeting",{url:"/create_e_meeting",templateUrl:"views/action/create_e_meeting.html"}).state("action.ViewEMeeting",{url:"/view_e_meeting/:eMeetingId",templateUrl:"views/action/view_e_meeting.html"}).state("user",{url:"/user",templateUrl:"views/user.html"}).state("user.Profile",{url:"/profile",templateUrl:"views/user/profile.html"}).state("user.ProfileUpdate",{url:"/profile_update",templateUrl:"views/user/profile_update.html"}).state("user.SendFeedback",{url:"/send_feedback",templateUrl:"views/user/send_feedback.html"}).state("user.Groups",{url:"/groups",templateUrl:"views/user/groups.html"}).state("user.MyTask",{url:"/my_task",templateUrl:"views/user/my_task.html"}).state("user.UpcommingMeeting",{url:"/upcomming_meeting",templateUrl:"views/user/upcomming_meeting.html"})}]).config(["$translateProvider",function($translateProvider){$translateProvider.useStaticFilesLoader({prefix:"/l10n/",suffix:".json"}),null===localStorage.getItem("lang")&&localStorage.setItem("lang","English"),$translateProvider.preferredLanguage(localStorage.getItem("lang"))}]),angular.module("app.auth.controllers",[]).controller("SignUpCtrl",["$rootScope","$scope","$state","$wakanda","Assist","Auth",function($scope,$rootScope,$state,$wakanda,Assist,Auth){$scope.facebookRegister=function(){Auth.facebookLogin()},$scope.unmatchedPassword=function(){return signupForm.password.value!=signupForm.retypePassword.value?!0:!1},$scope.emailRegister=function(){var newUser=$wakanda.$ds.User.signUpNewUser(signupForm.email.value,signupForm.password.value);return $rootScope.user=newUser,$wakanda.$login(signupForm.email.value,signupForm.password.value).then(function(data){data.result?$wakanda.$currentUser().then(function(user){localStorage.setItem("user_id",user.result.ID),localStorage.setItem("user_email",user.result.userName),$state.go("user.ProfileUpdate")}):console.log(data)}),$state.go("user.ProfileUpdate")}}]).controller("SignInCtrl",["$q","$rootScope","$scope","$state","$wakanda","Assist","Auth","Facebook",function($q,$rootScope,$scope,$state,$wakanda,Assist,Auth){$q.defer();$scope.facebookLogin=function(){return Auth.facebookLogin()},$scope.linkedinLogin=function(){return window.location.href="https://www.linkedin.com/uas/oauth2/authorization?response_type=code&client_id=7581d2bszc4sid&scope=r_emailaddress%20r_fullprofile%20r_basicprofile&state=KbyUmhTLMpYj7CD2di7JKP1PcqmLlkPt&redirect_uri=http://localhost:9000"},$scope.emailLogin=function(){$wakanda.$login(signinForm.email.value,signinForm.password.value).then(function(data){data.result?($scope.error=!1,$wakanda.$currentUser().then(function(user){localStorage.setItem("user_id",user.result.ID),localStorage.setItem("user_email",user.result.userName),$state.go("user.Profile")})):$scope.error=!0})}}]).controller("ChangePasswordCtrl",["$q","$rootScope","$scope","Auth",function($q,$rootScope,$scope,Auth){$scope.success=!1,$scope.error=!1,$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("auth.ChangePassword"),$scope.unmatchedPassword=function(){return changePasswordForm.newPassword.value!=changePasswordForm.retypeNewPassword.value?!0:!1},$scope.changePassword=function(){Auth.checkPassword(changePasswordForm.currentPassword.value).then(function(data){data?Auth.changePassword(changePasswordForm.newPassword.value).then(function(){$scope.success=!0}):$scope.error=!0})}}]),angular.module("app.directives",[]).directive("imgHolder",[function(){return{restrict:"A",link:function(scope,ele){return Holder.run({images:ele[0]})}}}]).directive("customBackground",function(){return{restrict:"A",controller:["$scope","$element","$location",function($scope,$element,$location){var addBg,path;return path=function(){return $location.path()},addBg=function(path){switch($element.removeClass("body-home body-special body-tasks body-lock"),path){case"/":return $element.addClass("body-home");case"/auth/sign_in":case"/auth/sign_up":return $element.addClass("body-special");case"/pages/lock-screen":return $element.addClass("body-special body-lock");case"/tasks":return $element.addClass("body-tasks")}},addBg($location.path()),$scope.$watch(path,function(newVal,oldVal){return newVal!==oldVal?addBg($location.path()):void 0})}]}}).directive("uiColorSwitch",[function(){return{restrict:"A",link:function(scope,ele){return ele.find(".color-option").on("click",function(event){var $this,hrefUrl,style;if($this=$(this),hrefUrl=void 0,style=$this.data("style"),"loulou"===style)hrefUrl="styles/main.css",$('link[href^="styles/main"]').attr("href",hrefUrl);else{if(!style)return!1;style="-"+style,hrefUrl="styles/main"+style+".css",$('link[href^="styles/main"]').attr("href",hrefUrl)}return event.preventDefault()})}}}]).directive("toggleMinNav",["$rootScope",function($rootScope){return{restrict:"A",link:function(scope,ele){var $window,Timer,app,updateClass;return app=$("#app"),$window=$(window),ele.on("click",function(e){return app.hasClass("nav-min")?app.removeClass("nav-min"):(app.addClass("nav-min"),$rootScope.$broadcast("minNav:enabled")),e.preventDefault()}),Timer=void 0,updateClass=function(){var width;return width=$window.width(),768>width?app.removeClass("nav-min"):void 0},$window.resize(function(){var t;return clearTimeout(t),t=setTimeout(updateClass,300)})}}}]).directive("collapseNav",[function(){return{restrict:"A",link:function(scope,ele){var $a,$aRest,$lists,$listsRest,app;return $lists=ele.find("ul").parent("li"),$lists.append('<i class="fa fa-caret-right icon-has-ul"></i>'),$a=$lists.children("a"),$listsRest=ele.children("li").not($lists),$aRest=$listsRest.children("a"),app=$("#app"),$a.on("click",function(event){var $parent,$this;return app.hasClass("nav-min")?!1:($this=$(this),$parent=$this.parent("li"),$lists.not($parent).removeClass("open").find("ul").slideUp(),$parent.toggleClass("open").find("ul").slideToggle(),event.preventDefault())}),$aRest.on("click",function(){return $lists.removeClass("open").find("ul").slideUp()}),scope.$on("minNav:enabled",function(){return $lists.removeClass("open").find("ul").slideUp()})}}}]).directive("highlightActive",[function(){return{restrict:"A",controller:["$scope","$element","$attrs","$location",function($scope,$element,$attrs,$location){var highlightActive,links,path;return links=$element.find("a"),path=function(){return $location.path()},highlightActive=function(links,path){return path="#"+path,angular.forEach(links,function(link){var $li,$link,href;return $link=angular.element(link),$li=$link.parent("li"),href=$link.attr("href"),$li.hasClass("active")&&$li.removeClass("active"),0===path.indexOf(href)?$li.addClass("active"):void 0})},highlightActive(links,$location.path()),$scope.$watch(path,function(newVal,oldVal){return newVal!==oldVal?highlightActive(links,$location.path()):void 0})}]}}]).directive("toggleOffCanvas",[function(){return{restrict:"A",link:function(scope,ele){return ele.on("click",function(){return $("#app").toggleClass("on-canvas")})}}}]).directive("slimScroll",[function(){return{restrict:"A",link:function(scope,ele){return ele.slimScroll({height:"100%"})}}}]).directive("goBack",[function(){return{restrict:"A",controller:["$scope","$element","$window",function($scope,$element,$window){return $element.on("click",function(){return $window.history.back()})}]}}]),angular.module("app.localization",[]).controller("LangCtrl",["$scope","$translate",function($scope,$translate){$scope.lang=localStorage.getItem("lang"),$scope.changeLang=function(key){$scope.lang=key,localStorage.setItem("lang",key),$translate.use(key).then(function(){},function(){})}}]),angular.module("app.controllers",[]).controller("AppCtrl",["$rootScope","$scope","$location",function($rootScope,$scope,$location){return $scope.isSpecificPage=function(){var path;return path=$location.path(),_.contains(["/auth/sign_up","/auth/sign_in","/user/profile_update"],path)},$rootScope.user=localStorage.getItem("user_id")?{id:localStorage.getItem("user_id"),first_name:localStorage.getItem("user_first_name"),last_name:localStorage.getItem("user_last_name"),link:localStorage.getItem("user_link"),locale:localStorage.getItem("user_locale"),name:localStorage.getItem("user_name"),timezone:localStorage.getItem("user_timezone"),updated_time:localStorage.getItem("user_updated_time"),verified:localStorage.getItem("user_verified"),avatar:localStorage.getItem("user_avatar"),country:localStorage.getItem("user_country")}:{},$scope.main={brand:"Kuveno",name:$rootScope.user.name}}]).controller("NavCtrl",["$scope","taskStorage","filterFilter",function($scope,taskStorage,filterFilter){var tasks;return tasks=$scope.tasks=taskStorage.get(),$scope.taskRemainingCount=filterFilter(tasks,{completed:!1}).length,$scope.$on("taskRemaining:changed",function(event,count){return $scope.taskRemainingCount=count})}]).controller("MainCtrl",["$location","$rootScope","$scope","$state","Auth","$wakanda",function($location,$rootScope,$scope,$state,Auth){return Auth.verify().then(function(data){var linkedinCode;return data&&($rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("main"),$location.$$absUrl.split("?code=").length>1&&(linkedinCode=$location.$$absUrl.split("?code=")[1].split("#/")[0],Auth.linkedin(linkedinCode))),Auth.login("amanda.aaron@tester.com","test")})}]).controller("CreateMeetingNoteCtrl",["$scope",function(){return $rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("createMeetingNote")}]),angular.module("app.services",[]).factory("Auth",["$http","$q","$rootScope","$state","$wakanda","Assist","Facebook",function($http,$q,$rootScope,$state,$wakanda,Assist,Facebook){var defer;return defer=$q.defer(),{verify:function(){if(void 0===localStorage.user_id)defer.resolve(!1),$state.go("auth.SignIn");else var itv=setInterval(function(){$rootScope.wakandaInit&&(defer.resolve(!0),clearInterval(itv))},100);return defer.promise},linkedin:function(){return $http.post("https://www.linkedin.com/uas/oauth2/accessToken?grant_type=authorization_code&code=code&redirect_uri=https://thiepcuoiviet.net/freelance/fv0004/dist&client_id=7581d2bszc4sid&client_secret=oDYszogper1pau5d").success(function(data){return console.log(data)}).error(function(data){return $rootScope.error=data,$state.go("auth.SignIn")})},login:function(){var newUser;return newUser=$wakanda.$ds.User.signUpNewUser("my@email.com","myPassword"),defer.resolve(!0),defer.promise},facebookLogin:function(){var getFacebookInformation,storeUser;return storeUser=function(response){return $rootScope.user=response,Assist.localeToCountry(response.locale).then(function(data){return localStorage.setItem("user_id",response.id),localStorage.setItem("user_first_name",response.first_name),localStorage.setItem("user_last_name",response.last_name),localStorage.setItem("user_link",response.link),localStorage.setItem("user_locale",response.locale),localStorage.setItem("user_name",response.name),localStorage.setItem("user_timezone",response.timezone),localStorage.setItem("user_updated_time",response.updated_time),localStorage.setItem("user_verified",response.verified),localStorage.setItem("user_avatar","http://graph.facebook.com/"+response.id+"/picture"),localStorage.setItem("user_country",data),$rootScope.user.country=localStorage.getItem("user_country"),$rootScope.user.picture=localStorage.getItem("user_picture"),defer.resolve($rootScope.user)
}),defer.promise},getFacebookInformation=function(){return Facebook.api("/me",function(response){var newUser;return storeUser(response),newUser=$wakanda.$ds.User.signUpNewFBUser(response.id),$state.go("user.Profile")})},Facebook.getLoginStatus(function(response){return $rootScope.loggedIn="connected"===response.status?!0:!1,$rootScope.loggedIn===!1?Facebook.login(function(response){return $rootScope.loggedIn="connected"===response.status?!0:!1,$rootScope.loggedIn?getFacebookInformation():$rootScope.facebookLoginError=!0}):getFacebookInformation()})},checkPassword:function(){return defer.resolve(!0),defer.promise},changePassword:function(){return defer.resolve("done"),defer.promise}}}]).factory("User",["$http","$q","$rootScope","$state",function($http,$q){var defer;return defer=$q.defer(),{sendFeedback:function(){return defer.resolve(!0),defer.promise}}}]).factory("Assist",["$http","$q",function($http,$q){var defer;return defer=$q.defer(),{localeToCountry:function(locale){return $http.get("scripts/vendors/FacebookLocales.json").success(function(data){var item,_i,_len,_ref,_results;for(_ref=data.locales.locale,_results=[],_i=0,_len=_ref.length;_len>_i;_i++){if(item=_ref[_i],item.codes.code.standard.representation===locale){defer.resolve(item.englishName.split("(").length>1?item.englishName.split("(")[1].split(")")[0]:item.englishName);break}_results.push(void 0)}return _results}).error(function(data){return defer.reject(data)}),defer.promise},validateEmail:function(email){var re;return re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,re.test(email)}}}]),angular.module("app.user.controllers",[]).controller("ProfileCtrl",["$rootScope","$scope","Auth",function($rootScope,$scope,Auth){return Auth.verify().then(function(data){return data?$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("user.Profile"):void 0})}]).controller("UpdateProfileCtrl",["$rootScope","$scope","$state","$wakanda","Assist","Auth",function($scope,$rootScope,$state,$wakanda,Assist,Auth){Auth.verify().then(function(data){if(data){var user=$wakanda.$ds.User.$findOne(localStorage.getItem("user_id"));user.$promise.then(function(){updateProfileForm.title.value=user.title,updateProfileForm.firstName.value=user.firstname,updateProfileForm.lastName.value=user.lastname}),$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("user.UpdateProfile"),$scope.linkedinUpdate=function(){},$scope.facebookUpdate=function(){return Auth.facebookInfo()},$scope.updateProfile=function(){user.$promise.then(function(){user.title=updateProfileForm.title.value,user.firstname=updateProfileForm.firstName.value,user.lastname=updateProfileForm.lastName.value,user.$save()}),localStorage.setItem("user_title",updateProfileForm.title.value),localStorage.setItem("user_first_name",updateProfileForm.firstName.value),localStorage.setItem("user_last_name",updateProfileForm.lastName.value),$state.go("user.Profile")}}})}]).controller("SendFeedbackCtrl",["$rootScope","$scope","Auth","User",function($rootScope,$scope,Auth,User){return Auth.verify().then(function(data){return data?$rootScope.onBack?$rootScope.onBack=!1:$rootScope.$stateHistory.push("user.SendFeedback"):void 0}),$scope.sendFeedback=function(){User.sendFeedback($scope.title,$scope.content).then(function(data){data?$scope.success=!0:$scope.error=!0})}}]).controller("GroupsCtrl",["$scope",function(){return console.log("Groups")}]).controller("MyTaskCtrl",["$scope",function(){return console.log("My Task")}]).controller("UpCommingMeetingCtrl",["$scope",function(){return console.log("Up Comming Meeting")}]);