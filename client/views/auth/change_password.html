<div data-ng-controller="ChangePasswordCtrl">
	<aside id="nav-container">
		<div id="nav-wrapper">
			<ul id="nav" data-collapse-nav data-slim-scroll data-highlight-active>
				<li data-ng-show="$stateHistory.length > 1"><a data-ng-click="back()"><i class="fa fa-arrow-left"><span class="icon-bg bg-danger"></span></i><span>{{ 'Back' | translate }}</span> </a></li>
				<li><a ui-sref="user.Profile"><i class="fa fa-key"><span class="icon-bg bg-warning"></span></i><span>{{ 'Profile' | translate }}</span> </a></li>
			</ul>
		</div>
	</aside>
	<section id="content" class="animate-fade-up">
		<div class="view-container">
			<div class="page page-profile">
				<div class="row">
					<div class="col-md-12">
						<section class="panel panel-default">
							<div class="panel-heading"><strong><i class="fa fa-key"></i> {{ 'Change Password' | translate}}</strong></div>
							<div class="panel-body">
								<div class="form-container col-md-12">
									<form class="form-horizontal" name="changePasswordForm" data-ng-submit="changePassword()" novalidate>
										<div class="row alert alert-success" data-ng-show="success">{{ 'Password has been changed successfully' | translate}}</div>
										<div class="form-group">
											<label for="exampleInputEmail1">{{ 'Current password' | translate}}</label>
											<input
												type="password"
												id="currentPassword"
												name="currentPassword"
												data-ng-model="currentPassword"
												placeholder="{{ 'Current password' | translate}}"
												class="form-control"
												data-ng-class="{ 'input-danger': changePasswordForm.currentPassword.$error.required && changePasswordForm.currentPassword.$dirty }"
												required>
										</div>
										<div class="row alert alert-danger" data-ng-show="changePasswordForm.currentPassword.$error.required && changePasswordForm.currentPassword.$dirty">
											{{ 'Password is required' | translate}}
										</div>
										<div class="row alert alert-danger" data-ng-show="error">
											{{ 'Current password is not correct' | translate}}
										</div>
										<div class="form-group">
											<label for="exampleInputPassword1">{{ 'New Password' | translate}}</label>
											<input
												type="password"
												id="newPassword"
												name="newPassword"
												data-ng-model="newPassword"
												placeholder="{{ 'New Password' | translate}}"
												class="form-control"
												data-ng-class="{ 'input-danger': (changePasswordForm.newPassword.$error.required || changePasswordForm.newPassword.$error.minlength) && changePasswordForm.newPassword.$dirty }"
												data-ng-minlength=8
												required>
										</div>
										<div class="row alert alert-danger" ng-show="changePasswordForm.newPassword.$error.required && changePasswordForm.newPassword.$dirty">
											{{ 'Password is required' | translate}}
										</div>
										<div class="row alert alert-danger" ng-show="changePasswordForm.newPassword.$error.minlength && changePasswordForm.newPassword.$dirty">
											{{ 'Password must be contain at least 8 characters' | translate}}
										</div>
										<div class="form-group">
											<label for="exampleInputPassword1">{{ 'Retype new Password' | translate}}</label>
											<input
												type="password"
												id="retypeNewPassword"
												name="retypeNewPassword"
												data-ng-model="retypeNewPassword"
												class="form-control"
												placeholder="{{ 'Retype new Password' | translate}}"
												data-ng-class="{ 'input-danger': unmatchedPassword() && changePasswordForm.retypeNewPassword.$dirty }"
												required>
										</div>
										<div class="row alert alert-danger" ng-show="unmatchedPassword() && changePasswordForm.retypeNewPassword.$dirty">
											{{ 'Confirm password does not match the password' | translate}}
										</div>
										<div class="form-group">
											<input type="submit" class="btn btn-primary btn-block" value="{{ 'Submit' | translate}}" ng-disabled="changePasswordForm.$invalid || unmatchedPassword()"/>
										</div>
									</form>
								</div>
							</div>
						</section>
					</div>
				</div>
			</div>
		</div>
	</section>
</div>